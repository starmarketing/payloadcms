"use strict";(self.webpackChunkpayload_starter_typescript=self.webpackChunkpayload_starter_typescript||[]).push([[860],{3860:(e,l,a)=>{a.r(l),a.d(l,{default:()=>p});var t=a(7294),o=a(9243),s=a(5091),n=a(2143),r=a(5977),i=a(8584),c=a(4479);a(6456);const d="card",u=e=>{const{title:l,actions:a,onClick:o}=e,s=[d,o&&`${d}--has-onclick`].filter(Boolean).join(" ");return t.createElement("div",{className:s},t.createElement("h5",null,l),a&&t.createElement("div",{className:`${d}__actions`},a),o&&t.createElement(c.Z,{className:`${d}__click`,buttonStyle:"none",onClick:o}))};a(5634);const m="dashboard",v=e=>{const{collections:l,globals:a,permissions:s}=e,{push:n}=(0,r.k6)(),{routes:{admin:d},admin:{components:{afterDashboard:v,beforeDashboard:p}}}=(0,o.useConfig)();return t.createElement("div",{className:m},t.createElement(i.Z,null),t.createElement("div",{className:"dashboard__wrap"},Array.isArray(p)&&p.map(((e,l)=>t.createElement(e,{key:l}))),t.createElement("h3",{className:"dashboard__label"},"Collections"),t.createElement("ul",{className:"dashboard__card-list"},l.map((e=>{var l,a,o;const r=null===(o=null===(a=null===(l=null==s?void 0:s.collections)||void 0===l?void 0:l[e.slug])||void 0===a?void 0:a.create)||void 0===o?void 0:o.permission;return t.createElement("li",{key:e.slug},t.createElement(u,{title:e.labels.plural,onClick:()=>n({pathname:`${d}/collections/${e.slug}`}),actions:r?t.createElement(c.Z,{el:"link",to:`${d}/collections/${e.slug}/create`,icon:"plus",round:!0,buttonStyle:"icon-label",iconStyle:"with-border"}):void 0}))}))),a.length>0&&t.createElement(t.Fragment,null,t.createElement("h3",{className:"dashboard__label"},"Globals"),t.createElement("ul",{className:"dashboard__card-list"},a.map((e=>t.createElement("li",{key:e.slug},t.createElement(u,{title:e.label,onClick:()=>n({pathname:`${d}/globals/${e.slug}`})})))))),Array.isArray(v)&&v.map(((e,l)=>t.createElement(e,{key:l})))))},p=()=>{const{permissions:e}=(0,o.useAuth)(),{setStepNav:l}=(0,s.FP)(),[a,r]=(0,t.useState)([]),{collections:i,globals:c,admin:{components:{views:{Dashboard:d}={Dashboard:void 0}}={}}={}}=(0,o.useConfig)();return(0,t.useEffect)((()=>{r(c.filter((l=>{var a,t,o;return null===(o=null===(t=null===(a=null==e?void 0:e.globals)||void 0===a?void 0:a[l.slug])||void 0===t?void 0:t.read)||void 0===o?void 0:o.permission})))}),[e,c]),(0,t.useEffect)((()=>{l([])}),[l]),t.createElement(n.Z,{DefaultComponent:v,CustomComponent:d,componentProps:{globals:a,collections:i.filter((l=>{var a,t,o;return null===(o=null===(t=null===(a=null==e?void 0:e.collections)||void 0===a?void 0:a[l.slug])||void 0===t?void 0:t.read)||void 0===o?void 0:o.permission})),permissions:e}})}}}]);