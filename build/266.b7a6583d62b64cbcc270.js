"use strict";(self.webpackChunkpayload_starter_typescript=self.webpackChunkpayload_starter_typescript||[]).push([[266],{4007:(e,a,t)=>{t.d(a,{Z:()=>d});var r=t(7294),s=t(8170),o=t(953),l=t(666),n=t(4012);t(5751);const d=()=>{const{getField:e}=(0,n.ey)(),a=e("password"),t=(0,r.useCallback)((e=>e===(null==a?void 0:a.value)||"Passwords do not match."),[a]),{value:d,showError:c,setValue:u,errorMessage:m}=(0,s.Z)({path:"confirm-password",disableFormData:!0,validate:t,enableDebouncedValue:!0}),i=["field-type","confirm-password",c&&"error"].filter(Boolean).join(" ");return r.createElement("div",{className:i},r.createElement(l.Z,{showError:c,message:m}),r.createElement(o.Z,{htmlFor:"confirm-password",label:"Confirm Password",required:!0}),r.createElement("input",{value:d||"",onChange:u,type:"password",autoComplete:"off",id:"confirm-password",name:"confirm-password"}))}},4020:(e,a,t)=>{t.d(a,{Z:()=>o});var r=t(7294),s=t(8170);const o=(0,t(546).Z)((e=>{const{name:a,path:t,value:o,modifyForm:l=!0}=e,n=t||a,{value:d,setValue:c}=(0,s.Z)({path:n});return(0,r.useEffect)((()=>{void 0!==o&&c(o,l)}),[o,c,l]),r.createElement("input",{type:"hidden",value:d||"",onChange:c,name:n})}))},6067:(e,a,t)=>{t.d(a,{Z:()=>c});var r=t(7294),s=t(8170),o=t(953),l=t(666),n=t(546),d=t(5193);t(8108);const c=(0,n.Z)((e=>{const{path:a,name:t,required:n,validate:c=d.password,style:u,width:m,autoComplete:i,label:p}=e,w=a||t,h=(0,r.useCallback)((e=>c(e,{required:n})),[c,n]),{value:E,showError:f,formProcessing:v,setValue:Z,errorMessage:y}=(0,s.Z)({path:w,validate:h,enableDebouncedValue:!0}),b=["field-type","password",f&&"error"].filter(Boolean).join(" ");return r.createElement("div",{className:b,style:{...u,width:m}},r.createElement(l.Z,{showError:f,message:y}),r.createElement(o.Z,{htmlFor:w,label:p,required:n}),r.createElement("input",{value:E||"",onChange:Z,disabled:v,type:"password",autoComplete:i,id:w,name:w}))}))},266:(e,a,t)=>{t.r(a),t.d(a,{default:()=>E});var r=t(7294),s=t(5977),o=t(3727),l=t(9243),n=t(9599),d=t(8572),c=t(6067),u=t(4007),m=t(6268),i=t(4479),p=t(8380),w=(t(3096),t(4020));const h="reset-password",E=()=>{const{admin:{user:e},serverURL:a,routes:{admin:t,api:E}}=(0,l.useConfig)(),{token:f}=(0,s.UO)(),v=(0,s.k6)(),{user:Z,setToken:y}=(0,l.useAuth)();return Z?r.createElement(n.Z,{className:h},r.createElement(p.Z,{title:"Reset Password",description:"Reset password",keywords:"Reset Password, Payload, CMS"}),r.createElement("div",{className:`${h}__wrap`},r.createElement("h1",null,"Already logged in"),r.createElement("p",null,"To log in with another user, you should"," ",r.createElement(o.Link,{to:`${t}/logout`},"log out")," ","first."),r.createElement("br",null),r.createElement(i.Z,{el:"link",buttonStyle:"secondary",to:t},"Back to Dashboard"))):r.createElement(n.Z,{className:h},r.createElement("div",{className:`${h}__wrap`},r.createElement("h1",null,"Reset Password"),r.createElement(d.Z,{onSuccess:e=>{e.token&&(y(e.token),v.push(`${t}`))},method:"post",action:`${a}${E}/${e}/reset-password`,redirect:t},r.createElement(c.Z,{label:"New Password",name:"password",autoComplete:"off",required:!0}),r.createElement(u.Z,null),r.createElement(w.Z,{name:"token",value:f}),r.createElement(m.Z,null,"Reset Password"))))}}}]);